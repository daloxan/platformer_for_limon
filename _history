{"entries":[{"timestamp":1765711231487,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":131,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1530,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":180,"length1":41,"diffs":[[1,"        \"assets.json\"\n"]]},{"start1":209,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]},{"type":"added","filename":"main.py","value":"\n"}]},{"timestamp":1765711884435,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":517,"diffs":[[1,"// Настройка игрока\n"]]},{"start1":215,"length1":0,"diffs":[[1,"\n"]]},{"start1":282,"length1":0,"diffs":[[1,"player.ay = -1 // гравитация\n\n"]]},{"start1":374,"length1":0,"diffs":[[1,"// Платформы\n"]]},{"start1":594,"length1":22,"diffs":[[1,"// Генерация платформ по вертикали\n"]]},{"start1":765,"length1":24,"diffs":[[1,"// Основной игровой цикл\n"]]},{"start1":818,"length1":405,"diffs":[[1,"    // Прыжок при касании платформ\n    if (player.vy > 0) {\n        for (let p of platforms) {\n            if (player.overlapsWith(p) && player.vy > 0) {\n                player.vy = -200\n"]]},{"start1":1029,"length1":460,"diffs":[[1,""]]},{"start1":1035,"length1":3,"diffs":[[1,""]]},{"start1":1036,"length1":167,"diffs":[[1,"    // Скроллинг платформ вверх\n    if (player.y < 80) {\n        let diff = 80 - player.y\n        player.y = 80\n"]]},{"start1":1183,"length1":206,"diffs":[[1,"            p.y += diff\n"]]},{"start1":1332,"length1":19,"diffs":[[1,"        // Добавляем очки по высоте\n        score += diff\n"]]},{"start1":1425,"length1":0,"diffs":[[1,"\n    // Смерть при падении\n    if (player.y > 800) {\n        game.over(false, effects.dissolve)\n    }\n"]]}]}]},{"timestamp":1765712124945,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":28,"diffs":[[1,"// === ВЫБОР РЕЖИМА ===\n"]]},{"start1":37,"length1":26,"diffs":[[1,"game.showLongText(\"Выбери режим:\\nA - Классический Doodle Jump\\nB - Уклонение шарика\", DialogLayout.Center)\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    mode = 1\n    game.showLongText(\"Режим: Классический Doodle Jump\", DialogLayout.Center)\n})\ncontroller.B.onEvent(ControllerButtonEvent.Pressed, function () {\n    mode = 2\n    game.showLongText(\"Режим: Уклонение шарика\", DialogLayout.Center)\n})\n\n// Подождем выбора\npause(1000)\n\n// === ОБЩИЕ ПАРАМЕТРЫ ===\nlet player = sprites.create(img`\n    . . f f f f . .\n    . f f f f f f .\n    f f f f f f f f\n    f f f f f f f f\n    f f f f f f f f\n    . f f f f f f .\n    . . f f f f . .\n`, SpriteKind.Player)\nplayer.setPosition(80, 100)\ncontroller.moveSprite(player, 100, 0)\nscene.setBackgroundColor(9)\nscene.cameraFollowSprite(player)\n\n"]]},{"start1":869,"length1":14,"diffs":[[1,""]]},{"start1":870,"length1":37,"diffs":[[1,""]]},{"start1":1047,"length1":153,"diffs":[[1,"// Генерация платформ\nfor (let i = 0; i < 8; i++) {\n    createPlatform(Math.randomRange(20, 140), i * 40 + 50)\n"]]},{"start1":1161,"length1":238,"diffs":[[1,"// Очки\nlet score = 0\ninfo.setScore(score)\n\n// Ограничение по бокам\ngame.onUpdate(function () {\n    if (player.x < 8) {\n        player.x = 8\n"]]},{"start1":1308,"length1":127,"diffs":[[1,"    if (player.x > 152) {\n        player.x = 152\n"]]},{"start1":1367,"length1":155,"diffs":[[1,"// === КЛАССИЧЕСКИЙ Doodle Jump ===\ngame.onUpdate(function () {\n"]]},{"start1":1452,"length1":335,"diffs":[[1,""]]},{"start1":1476,"length1":1566,"diffs":[[1,"        if (player.vy > 0) {\n"]]},{"start1":1544,"length1":99,"diffs":[[1,"                if (player.overlapsWith(p) && player.vy > 0) {\n                    player.vy = -200\n"]]},{"start1":1676,"length1":0,"diffs":[[1,"        }\n        if (player.y < 80) {\n            let diff = 80 - player.y\n            player.y = 80\n"]]},{"start1":1817,"length1":25,"diffs":[[1,"                p.y += diff\n"]]},{"start1":1990,"length1":23,"diffs":[[1,"            score += diff\n"]]},{"start1":2059,"length1":9,"diffs":[[1,"        if (player.y > 160) {\n            game.over(false, effects.dissolve)\n        }\n    }\n})\n\n// === РЕЖИМ ШАРИК — уклонение платформ ===\ngame.onUpdate(function () {\n    if (mode == 2) {\n        player.ay = 0\n        player.vy = -100 // шарик поднимается вверх\n        for (let p of platforms) {\n            if (player.overlapsWith(p)) {\n                game.over(false, effects.smiles)\n            }\n        }\n        // Скроллинг платформ вниз\n        for (let p of platforms) {\n            p.y += 2\n            if (p.y > 160) {\n                p.y = 0\n                p.x = Math.randomRange(20, 140)\n            }\n        }\n        score += 1\n        info.setScore(score)\n    }\n})\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":228,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]},{"type":"edited","filename":"main.py","patch":[{"start1":0,"length1":27,"diffs":[[1,""]]},{"start1":1,"length1":2452,"diffs":[[1,""]]}]}]},{"timestamp":1765712629122,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"// === ОБЩИЕ ПЕРЕМЕННЫЕ ===\nlet mode = 0\n"]]},{"start1":67,"length1":0,"diffs":[[1,"let platforms: Sprite[] = []\n"]]},{"start1":110,"length1":14,"diffs":[[1,""]]},{"start1":111,"length1":29,"diffs":[[1,"// === Функция создания платформ ===\nfunction createPlatform(x: number, y: number) {\n    let p = sprites.create(img`\n        f f f f f f f f\n    `, SpriteKind.Food)\n    p.setPosition(x, y)\n    platforms.push(p)\n}\n\n"]]},{"start1":356,"length1":0,"diffs":[[1,"    platforms = []\n"]]},{"start1":409,"length1":145,"diffs":[[1,"        createPlatform(Math.randomRange(20, 140), i * 40 + 50)\n"]]},{"start1":481,"length1":471,"diffs":[[1,"// === МЕНЮ ВЫБОРА РЕЖИМА ===\ngame.showLongText(\"Выбери режим:\\nA - Doodle Jump\\nB - Шарик\", DialogLayout.Center)\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (mode == 0) {\n        mode = 1\n        startGame()\n"]]},{"start1":725,"length1":2,"diffs":[[1,"})\ncontroller.B.onEvent(ControllerButtonEvent.Pressed, function () {\n    if (mode == 0) {\n        mode = 2\n        startGame()\n    }\n})\n"]]},{"start1":862,"length1":333,"diffs":[[1,"// === Функция запуска игры ===\nfunction startGame() {\n    info.setScore(0)\n    score = 0\n    scene.setBackgroundColor(9)\n"]]},{"start1":985,"length1":152,"diffs":[[1,"    // Создаём игрока по режиму\n    if (mode == 1) {\n        // Классический Doodle Jump\n        player = sprites.create(img`\n            . . f f f f . .\n            . f f f f f f .\n            f f f f f f f f\n            f f f f f f f f\n            f f f f f f f f\n            . f f f f f f .\n            . . f f f f . .\n        `, SpriteKind.Player)\n        player.setPosition(80, 100)\n        player.ay = 350\n        controller.moveSprite(player, 100, 0)\n    } else {\n        // Режим шарик\n        player = sprites.create(img`\n            . . 5 5 5 . .\n            . 5 5 5 5 5 .\n            5 5 5 5 5 5 5\n            5 5 5 5 5 5 5\n            5 5 5 5 5 5 5\n            . 5 5 5 5 5 .\n            . . 5 5 5 . .\n        `, SpriteKind.Player)\n        player.setPosition(80, 140)\n        player.ay = 0\n        controller.moveSprite(player, 100, 0)\n    }\n"]]},{"start1":1839,"length1":212,"diffs":[[1,"    scene.cameraFollowSprite(player)\n    generatePlatforms()\n"]]},{"start1":1901,"length1":154,"diffs":[[1,"    // Запускаем игровой цикл\n    game.onUpdate(function () {\n        // Ограничение по бокам\n        if (player.x < 8) player.x = 8\n        if (player.x > 152) player.x = 152\n"]]},{"start1":2078,"length1":188,"diffs":[[1,"        if (mode == 1) {\n            // Классический Doodle Jump\n            if (player.vy > 0) {\n                for (let p of platforms) {\n                    if (player.overlapsWith(p)) {\n                        player.vy = -200\n                    }\n                }\n"]]},{"start1":2364,"length1":16,"diffs":[[1,""]]},{"start1":2365,"length1":279,"diffs":[[1,"            if (player.y < 80) {\n                let diff = 80 - player.y\n                player.y = 80\n                for (let p of platforms) {\n                    p.y += diff\n                    if (p.y > 160) {\n                        p.y = 0\n                        p.x = Math.randomRange(20, 140)\n                    }\n                }\n                score += diff\n                info.setScore(score)\n"]]},{"start1":2790,"length1":268,"diffs":[[1,""]]},{"start1":2791,"length1":646,"diffs":[[1,"            if (player.y > 160) {\n                game.over(false, effects.dissolve)\n"]]},{"start1":2890,"length1":0,"diffs":[[1,"        } else {\n            // Режим шарик\n            player.vy = -100\n            for (let p of platforms) {\n                if (player.overlapsWith(p)) {\n                    game.over(false, effects.smiles)\n                }\n            }\n            for (let p of platforms) {\n                p.y += 2\n                if (p.y > 160) {\n                    p.y = 0\n                    p.x = Math.randomRange(20, 140)\n                }\n            }\n            score += 1\n            info.setScore(score)\n"]]},{"start1":3408,"length1":723,"diffs":[[1,"    })\n}\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":228,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"pyprj\"\n"]]}]},{"type":"edited","filename":"main.py","patch":[{"start1":0,"length1":0,"diffs":[[1,"from random import randint\n\n"]]},{"start1":49,"length1":0,"diffs":[[1,"mode = 0\n"]]},{"start1":72,"length1":0,"diffs":[[1,"platforms = []\n"]]},{"start1":98,"length1":28,"diffs":[[1,"# === Функции ===\ndef create_platform(x, y):\n    global platforms\n    p = sprites.create(img(\"\"\"\n        88888888\n    \"\"\"), SpriteKind.food)\n    p.set_position(x, y)\n    platforms.append(p)\n\n"]]},{"start1":315,"length1":0,"diffs":[[1,"    global platforms\n    platforms = []\n"]]},{"start1":378,"length1":139,"diffs":[[1,"        create_platform(randint(20,140), i*40 + 50)\n"]]},{"start1":431,"length1":433,"diffs":[[1,"# === Меню выбора режима через ask_for_string ===\nchoice = game.ask_for_string(\"Выбери режим: A - Doodle Jump, B - Шарик\")\nif choice.lower() == \"a\":\n    mode = 1\nelse:\n    mode = 2\n"]]},{"start1":639,"length1":371,"diffs":[[1,"generate_platforms()\n"]]},{"start1":692,"length1":40,"diffs":[[1,"scene.set_background_color(9)\n"]]},{"start1":723,"length1":240,"diffs":[[1,"if mode == 1:\n    player = sprites.create(img(\"\"\"\n        . . f f f f . .\n        . f f f f f f .\n        f f f f f f f f\n        f f f f f f f f\n        f f f f f f f f\n        . f f f f f f .\n        . . f f f f . .\n    \"\"\"), SpriteKind.player)\n    player.set_position(80, 100)\n    player.ay = 350\n    controller.move_sprite(player, 100, 0)\nelse:\n    player = sprites.create(img(\"\"\"\n        . . 5 5 5 . .\n        . 5 5 5 5 5 .\n        5 5 5 5 5 5 5\n        5 5 5 5 5 5 5\n        5 5 5 5 5 5 5\n        . 5 5 5 5 5 .\n        . . 5 5 5 . .\n    \"\"\"), SpriteKind.player)\n    player.set_position(80, 140)\n    player.ay = 0\n    controller.move_sprite(player, 100, 0)\n"]]},{"start1":1386,"length1":0,"diffs":[[1,"scene.camera_follow_sprite(player)\n\n"]]},{"start1":1506,"length1":88,"diffs":[[1,"    if player.x < 8: player.x = 8\n    if player.x > 152: player.x = 152\n"]]},{"start1":1579,"length1":104,"diffs":[[1,"    if mode == 1:\n        if player.vy > 0:\n            for p in platforms:\n                if player.overlaps_with(p):\n                    player.vy = -200\n        if player.y < 80:\n            diff = 80 - player.y\n            player.y = 80\n            for p in platforms:\n                p.y += diff\n                if p.y > 160:\n                    p.y = 0\n                    p.x = randint(20,140)\n            score += diff\n            info.set_score(score)\n        if player.y > 160:\n            game.over(False, effects.dissolve)\n    else:\n        player.vy = -100\n        for p in platforms:\n"]]},{"start1":2218,"length1":208,"diffs":[[1,"                game.over(False, effects.smiles)\n        for p in platforms:\n            p.y += 2\n"]]},{"start1":2366,"length1":230,"diffs":[[1,"                p.x = randint(20,140)\n        score += 1\n"]]},{"start1":2454,"length1":392,"diffs":[[1,""]]}]}]},{"timestamp":1765713229083,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":55,"length1":167,"diffs":[[1,"// === Создание платформ ===\nfunction generatePlatforms() {\n    for (let i = 0; i < 8; i++) {\n        let p = sprites.create(img`\n            8 8 8 8 8 8 8 8\n        `, SpriteKind.Food)\n        p.setPosition(randint(20, 140), i * 20 + 40)\n    }\n}\n"]]},{"start1":303,"length1":0,"diffs":[[1,"// === Создание врагов над платформами ===\nfunction generateEnemies() {\n    for (let p of sprites.allOfKind(SpriteKind.Food)) {\n        if (randint(0, 2) == 0) { // примерно каждый 3-й платформенный спрайт имеет врага\n            let e = sprites.create(img`\n                . f f f .\n                f f f f f\n                f f f f f\n                . f f f .\n            `, SpriteKind.Enemy)\n            e.setPosition(p.x, p.y - 15) // всегда выше платформы\n        }\n    }\n}\n\n"]]},{"start1":1116,"length1":28,"diffs":[[1,""]]},{"start1":1117,"length1":30,"diffs":[[1,"// === Инициализация ===\nscene.setBackgroundColor(9)\n"]]},{"start1":1231,"length1":0,"diffs":[[1,"generatePlatforms()\ngenerateEnemies()\n"]]},{"start1":1270,"length1":996,"diffs":[[1,""]]},{"start1":1483,"length1":266,"diffs":[[1,""]]},{"start1":1793,"length1":294,"diffs":[[1,"                player.vy = -200\n"]]},{"start1":2073,"length1":95,"diffs":[[1,"                p.y = 0\n                p.x = randint(20, 140)\n"]]},{"start1":2274,"length1":28,"diffs":[[1,"                e.y = 0\n                e.x = randint(20, 140)\n"]]},{"start1":2419,"length1":27,"diffs":[[1,"    // Враги стреляют вниз случайно\n"]]},{"start1":2512,"length1":35,"diffs":[[1,"        if (randint(0, 100) < 2) { // ~2% шанс за тик\n"]]},{"start1":2684,"length1":25,"diffs":[[1,"            `, e, 0, 80) // скорость вниз\n"]]},{"start1":2743,"length1":42,"diffs":[[1,"    // Столкновение пули игрока с врагом\n"]]},{"start1":3466,"length1":50,"diffs":[[1,"        if (p.vy > 0 && player.overlapsWith(p)) { // вражеская пуля вниз\n"]]},{"start1":3733,"length1":26,"diffs":[[1,"    if (player.y > 8000) {\n"]]}]}]},{"timestamp":1765713831699,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":55,"length1":35,"diffs":[[1,"// === Создание стартовой платформы под игроком ===\n"]]},{"start1":223,"length1":9,"diffs":[[1,"// === Создание игрока ===\n"]]},{"start1":585,"length1":17,"diffs":[[1,"// === Инициализация игры ===\n"]]},{"start1":677,"length1":119,"diffs":[[1,"// === Создание платформ с типами и возможными врагами ===\nfunction createRandomPlatformWithEnemy(x: number, y: number) {\n"]]},{"start1":826,"length1":0,"diffs":[[1,"    let p: Sprite\n"]]},{"start1":862,"length1":68,"diffs":[[1,"        p = sprites.create(img`\n            . 4 4 4 4 4 4 4 .\n        `, SpriteKind.Food)\n"]]},{"start1":1007,"length1":68,"diffs":[[1,"        p = sprites.create(img`\n            . 6 6 6 6 6 6 6 .\n        `, SpriteKind.Food)\n"]]},{"start1":1134,"length1":66,"diffs":[[1,"        p = sprites.create(img`\n            8 8 8 8 8 8 8 8\n        `, SpriteKind.Food)\n"]]},{"start1":1278,"length1":0,"diffs":[[1,"\n    // Враги с вероятностью 1/4\n    if (randint(0, 3) == 0) {\n        let e = sprites.create(img`\n            . f f f .\n            f f f f f\n            f f f f f\n            . f f f .\n        `, SpriteKind.Enemy)\n        e.setPosition(x, y - 15)\n    }\n"]]},{"start1":1536,"length1":23,"diffs":[[1,"// === Создание стартовых платформ ===\n"]]},{"start1":1605,"length1":56,"diffs":[[1,"    createRandomPlatformWithEnemy(randint(20, 140), i * 20 + 40)\n"]]},{"start1":1673,"length1":19,"diffs":[[1,"// === Стрельба игрока вверх ===\n"]]},{"start1":1886,"length1":44,"diffs":[[1,"// === Генерация врагов сверху каждые 2 секунды ===\n"]]},{"start1":2148,"length1":25,"diffs":[[1,""]]},{"start1":2152,"length1":16,"diffs":[[1,"// === Игровой цикл ===\n"]]},{"start1":2462,"length1":99,"diffs":[[1,"                if (p.data == \"trampoline\") {\n                    player.vy = -350\n                } else {\n                    player.vy = -200\n                }\n"]]},{"start1":3031,"length1":58,"diffs":[[1,"                createRandomPlatformWithEnemy(randint(20, 140), 0)\n"]]},{"start1":3207,"length1":39,"diffs":[[1,"            if (e.y > 160) {\n                e.destroy()\n            }\n"]]},{"start1":3430,"length1":54,"diffs":[[1,"        if (randint(0, 100) < 2) {\n"]]},{"start1":3625,"length1":0,"diffs":[[1,"    // Столкновение пули игрока с врагами\n    for (let b of sprites.allOfKind(SpriteKind.Projectile)) {\n        for (let e of sprites.allOfKind(SpriteKind.Enemy)) {\n            if (b.overlapsWith(e)) {\n                e.destroy()\n                b.destroy()\n                score += 50\n                info.setScore(score)\n            }\n        }\n    }\n\n"]]},{"start1":4560,"length1":354,"diffs":[[1,""]]},{"start1":4593,"length1":59,"diffs":[[1,"    if (player.y > 160) {\n        game.over(false, effects.dissolve)\n    }\n"]]}]}]},{"timestamp":1765713938500,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":793,"length1":90,"diffs":[[1,"        p = sprites.create(img`. 4 4 4 4 4 4 4 .`, SpriteKind.Food)\n"]]},{"start1":916,"length1":90,"diffs":[[1,"        p = sprites.create(img`. 6 6 6 6 6 6 6 .`, SpriteKind.Food)\n"]]},{"start1":1021,"length1":88,"diffs":[[1,"        p = sprites.create(img`8 8 8 8 8 8 8 8`, SpriteKind.Food)\n"]]},{"start1":1258,"length1":25,"diffs":[[1,"// Стрельба игрока\n"]]},{"start1":1457,"length1":57,"diffs":[[1,"// Генерация врагов сверху каждые 2 секунды\ngame.onUpdateInterval(2000, function () {\n"]]},{"start1":1711,"length1":113,"diffs":[[1,"    e.setVelocity(0, 10)\n"]]},{"start1":1740,"length1":274,"diffs":[[1,""]]},{"start1":2821,"length1":37,"diffs":[[1,"    // Враги стреляют вниз\n"]]},{"start1":2905,"length1":0,"diffs":[[1,"        if (randint(0, 100) < 5) { // ~5% шанс за тик\n            sprites.createProjectileFromSprite(img`\n                . 3 .\n                3 3 3\n                . 3 .\n            `, e, 0, 80)\n        }\n    }\n\n    // Столкновение игрока с врагами и пулями врагов\n    for (let e of sprites.allOfKind(SpriteKind.Enemy)) {\n"]]},{"start1":3291,"length1":0,"diffs":[[1,"            lives -= 1\n"]]},{"start1":3348,"length1":69,"diffs":[[1,"            if (lives <= 0) game.over(false, effects.dissolve)\n"]]},{"start1":3427,"length1":44,"diffs":[[1,""]]},{"start1":3563,"length1":0,"diffs":[[1,"            lives -= 1\n"]]},{"start1":3620,"length1":69,"diffs":[[1,"            if (lives <= 0) game.over(false, effects.dissolve)\n"]]},{"start1":4149,"length1":1,"diffs":[[1,""]]}]}]},{"timestamp":1765714343775,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.py","patch":[{"start1":0,"length1":22,"diffs":[[1,"# === Переменные ===\nplayer = None\n"]]},{"start1":45,"length1":174,"diffs":[[1,"\n# === Создание платформ ===\ndef generate_platforms():\n    for i in range(8):\n        p = sprites.create(img(\"\"\"\n            88888888\n        \"\"\"), SpriteKind.food)\n        p.set_position(randint(20, 140), i*20 + 40)\n\n# === Создание врагов на некоторых платформах ===\ndef generate_enemies():\n    for p in sprites.all_of_kind(SpriteKind.food):\n        if randint(0, 3) == 0:  # примерно каждый 4-й платформенный спрайт имеет врага\n            e = sprites.create(img(\"\"\"\n                . f f f .\n                f f f f f\n                f f f f f\n                . f f f .\n            \"\"\"), SpriteKind.enemy)\n            e.set_position(p.x, p.y - 10)\n\n# === Создание игрока ===\n"]]},{"start1":755,"length1":205,"diffs":[[1,"    . . f f f f . .\n    . f f f f f f .\n    f f f f f f f f\n    f f f f f f f f\n    f f f f f f f f\n    . f f f f f f .\n    . . f f f f . .\n\"\"\"), SpriteKind.player)\n"]]},{"start1":1039,"length1":0,"diffs":[[1,"\n# === Инициализация ===\n"]]},{"start1":1094,"length1":16,"diffs":[[1,""]]},{"start1":1126,"length1":714,"diffs":[[1,"generate_platforms()\ngenerate_enemies()\n"]]},{"start1":1167,"length1":0,"diffs":[[1,"# === Стрельба вверх ===\n"]]},{"start1":1212,"length1":163,"diffs":[[1,"    bullet = sprites.create_projectile_from_sprite(img(\"\"\"\n        . 2 .\n        2 2 2\n        . 2 .\n    \"\"\"), player, 0, -100)\n"]]},{"start1":1408,"length1":743,"diffs":[[1,"# === Игровой цикл ===\ndef on_update():\n"]]},{"start1":1580,"length1":0,"diffs":[[1,"\n"]]},{"start1":1630,"length1":346,"diffs":[[1,"        for p in sprites.all_of_kind(SpriteKind.food):\n            if player.overlaps_with(p):\n                player.vy = -200\n\n"]]},{"start1":1854,"length1":325,"diffs":[[1,"        for p in sprites.all_of_kind(SpriteKind.food):\n            p.y += diff\n            if p.y > 160:\n                p.y = 0\n                p.x = randint(20, 140)\n        for e in sprites.all_of_kind(SpriteKind.enemy):\n            e.y += diff\n            if e.y > 160:\n                e.y = 0\n                e.x = randint(20, 140)\n"]]},{"start1":2243,"length1":601,"diffs":[[1,"\n    # Смерть игрока\n    if player.y > 160:\n        game.over(False, effects.dissolve)\n\n    # Столкновение пули с врагами\n"]]},{"start1":2422,"length1":119,"diffs":[[1,"        for e in sprites.all_of_kind(SpriteKind.enemy):\n            if b.overlaps_with(e):\n                e.destroy()\n"]]},{"start1":2635,"length1":127,"diffs":[[1,"\ngame.on_update(on_update)\n"]]}]}]},{"timestamp":1765716466836,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":228,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]}]},{"timestamp":1765716476954,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":174,"diffs":[[1,""]]},{"start1":748,"length1":27,"diffs":[[1,"    let r = randint(0, 20)\n"]]},{"start1":793,"length1":29,"diffs":[[1,""]]},{"start1":825,"length1":30,"diffs":[[1,"            . 4 4 4 4 4 4 4 .\n"]]},{"start1":938,"length1":27,"diffs":[[1,""]]},{"start1":970,"length1":30,"diffs":[[1,"            . 6 6 6 6 6 6 6 .\n"]]},{"start1":1052,"length1":193,"diffs":[[1,""]]},{"start1":1065,"length1":48,"diffs":[[1,""]]},{"start1":1097,"length1":28,"diffs":[[1,"            8 8 8 8 8 8 8 8\n"]]},{"start1":1212,"length1":2,"diffs":[[1,""]]},{"start1":1415,"length1":55,"diffs":[[1,"    sprites.createProjectileFromSprite(img`\n"]]},{"start1":1525,"length1":46,"diffs":[[1,""]]},{"start1":2012,"length1":61,"diffs":[[1,"        sprites.createProjectileFromSprite(img`\n"]]},{"start1":2135,"length1":51,"diffs":[[1,""]]},{"start1":3545,"length1":129,"diffs":[[1,"    for (let p of sprites.allOfKind(SpriteKind.Projectile)) {\n        if (p.vy > 0 && player.overlapsWith(p)) {\n            p.destroy()\n"]]},{"start1":3843,"length1":68,"diffs":[[1,"    for (let b of sprites.allOfKind(SpriteKind.Projectile)) {\n"]]},{"start1":4250,"length1":0,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":228,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"pyprj\"\n"]]}]}]},{"timestamp":1765717076090,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":1200,"length1":30,"diffs":[[1,"            . 8 8 8 8 8 8 8 .\n"]]},{"start1":1390,"length1":32,"diffs":[[1,"            9 . 9 . 9 . 9 .\n"]]},{"start1":1488,"length1":46,"diffs":[[1,"        // Обычная платформа — серая пунктирная\n"]]},{"start1":1568,"length1":28,"diffs":[[1,"            8 . 8 8 8 8 8 .\n"]]},{"start1":1683,"length1":0,"diffs":[[1,"\n\n"]]},{"start1":3041,"length1":268,"diffs":[[1,"                if (p.data == \"trampoline\") player.vy = -350\n                else player.vy = -200\n"]]},{"start1":3271,"length1":169,"diffs":[[1,""]]}]}]},{"timestamp":1765717704177,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":84,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>"]]}]}]},{"timestamp":1765717791789,"editorVersion":"2.0.63","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":228,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// здесь помещаются тесты; они не будут скомпилированы, пока пакет используется в качестве расширения.\n"}]}],"snapshots":[{"timestamp":1765711231486,"editorVersion":"2.0.63","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>","main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"platformer\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1765713048323,"editorVersion":"2.0.63","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"","README.md":" ","assets.json":"","main.py":"# === Переменные ===\nmode = 0\nplayer = None\nscore = 0\n\n# === Функция генерации платформ ===\ndef generate_platforms():\n    for i in range(8):\n        p = sprites.create(img(\"\"\"\n            88888888\n        \"\"\"), SpriteKind.food)\n        p.set_position(randint(20, 140), i*20 + 40)\n\n# === Выбор режима ===\nchoice = game.ask_for_string(\"Выбери режим: A - Doodle Jump, B - Шарик\")\nif choice == \"A\" or choice == \"a\":\n    mode = 1\nelse:\n    mode = 2\n\n# === Инициализация игры ===\nscore = 0\ninfo.set_score(score)\nscene.set_background_color(9)\ngenerate_platforms()\n\n# === Создание игрока ===\nif mode == 1:\n    # Классический Doodle Jump\n    player = sprites.create(img(\"\"\"\n        . . f f f f . .\n        . f f f f f f .\n        f f f f f f f f\n        f f f f f f f f\n        f f f f f f f f\n        . f f f f f f .\n        . . f f f f . .\n    \"\"\"), SpriteKind.player)\n    player.set_position(80, 100)\n    player.ay = 350\n    controller.move_sprite(player, 100, 0)\nelse:\n    # Режим шарик\n    player = sprites.create(img(\"\"\"\n        . . 5 5 5 . .\n        . 5 5 5 5 5 .\n        5 5 5 5 5 5 5\n        5 5 5 5 5 5 5\n        5 5 5 5 5 5 5\n        . 5 5 5 5 5 .\n        . . 5 5 5 . .\n    \"\"\"), SpriteKind.player)\n    player.set_position(80, 140)\n    player.ay = 0\n    controller.move_sprite(player, 100, 0)\n\nscene.camera_follow_sprite(player)\n\n# === Игровой цикл ===\ndef on_update():\n    global score\n    if player is None:\n        return\n\n    # Ограничение по бокам\n    if player.x < 8:\n        player.x = 8\n    if player.x > 152:\n        player.x = 152\n\n    if mode == 1:\n        # Классический Doodle Jump\n        if player.vy > 0:\n            for p in sprites.all_of_kind(SpriteKind.food):\n                if player.overlaps_with(p):\n                    player.vy = -200\n        if player.y < 60:\n            diff = 60 - player.y\n            player.y = 60\n            for p in sprites.all_of_kind(SpriteKind.food):\n                p.y += diff\n                if p.y > 160:\n                    p.y = 0\n                    p.x = randint(20, 140)\n            score += diff\n            info.set_score(score)\n        if player.y > 160:\n            game.over(False, effects.dissolve)\n    else:\n        # Режим шарик\n        player.vy = -100\n        for p in sprites.all_of_kind(SpriteKind.food):\n            if player.overlaps_with(p):\n                game.over(False, effects.smiles)\n        for p in sprites.all_of_kind(SpriteKind.food):\n            p.y += 2\n            if p.y > 160:\n                p.y = 0\n                p.x = randint(20, 140)\n        score += 1\n        info.set_score(score)\n\ngame.on_update(on_update)\n","pxt.json":"{\n    \"name\": \"platformer\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1765716466836,"editorVersion":"2.0.63","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block></xml>","main.ts":"let player: Sprite = null\nlet score = 0\nlet lives = 3\n\n// Стартовая платформа под игроком\nlet startPlatform = sprites.create(img`\n    8 8 8 8 8 8 8 8\n`, SpriteKind.Food)\nstartPlatform.setPosition(80, 120)\n\n// Игрок\nplayer = sprites.create(img`\n    . . f f f f . .\n    . f f f f f f .\n    f f f f f f f f\n    f f f f f f f f\n    f f f f f f f f\n    . f f f f f f .\n    . . f f f f . .\n`, SpriteKind.Player)\nplayer.setPosition(80, 100)\nplayer.ay = 350\ncontroller.moveSprite(player, 100, 0)\nscene.cameraFollowSprite(player)\nscene.setBackgroundColor(9)\n\n// Инициализация\nscore = 0\ninfo.setScore(score)\nlives = 3\ninfo.setLife(lives)\n\n// Функция создания платформ с шансом на бонус\nfunction createRandomPlatform(x: number, y: number) {\n    let p: Sprite\n    let r = randint(0, 20)\n    if (r == 0) {\n        p = sprites.create(img`\n            . 4 4 4 4 4 4 4 .\n        `, SpriteKind.Food)\n        p.data = \"trampoline\"\n    } else if (r == 1) {\n        p = sprites.create(img`\n            . 6 6 6 6 6 6 6 .\n        `, SpriteKind.Food)\n        p.data = \"heal\"\n    } else {\n        p = sprites.create(img`\n            8 8 8 8 8 8 8 8\n        `, SpriteKind.Food)\n        p.data = \"normal\"\n    }\n    p.setPosition(x, y)\n}\n\n// Стартовые платформы\nfor (let i = 0; i < 7; i++) {\n    createRandomPlatform(randint(20, 140), i * 20 + 40)\n}\n\n// Стрельба игрока вверх\ncontroller.A.onEvent(ControllerButtonEvent.Pressed, function () {\n    sprites.createProjectileFromSprite(img`\n        . 2 .\n        2 2 2\n        . 2 .\n    `, player, 0, -100)\n})\n\n// Функция создания врага сверху\nfunction spawnEnemy() {\n    let e = sprites.create(img`\n        . f f f .\n        f f f f f\n        f f f f f\n        . f f f .\n    `, SpriteKind.Enemy)\n    e.setPosition(randint(20, 140), 0)\n    e.vy = 10\n}\n\n// Генерация врагов каждые 2 секунды\ngame.onUpdateInterval(2000, function () {\n    spawnEnemy()\n})\n\n// Враги стреляют вниз каждые 1.5 секунды\ngame.onUpdateInterval(1500, function () {\n    for (let e of sprites.allOfKind(SpriteKind.Enemy)) {\n        sprites.createProjectileFromSprite(img`\n            . 3 .\n            3 3 3\n            . 3 .\n        `, e, 0, 80)\n    }\n})\n\n// Игровой цикл\ngame.onUpdate(function () {\n    // Ограничение по бокам\n    if (player.x < 8) player.x = 8\n    if (player.x > 152) player.x = 152\n\n    // Прыжки на платформах\n    if (player.vy > 0) {\n        for (let p of sprites.allOfKind(SpriteKind.Food)) {\n            if (player.overlapsWith(p)) {\n                if (p.data == \"trampoline\") player.vy = -350\n                else player.vy = -200\n                if (p.data == \"heal\") {\n                    info.changeLifeBy(1)\n                    p.destroy()\n                }\n            }\n        }\n    }\n\n    // Скроллинг вверх\n    if (player.y < 60) {\n        let diff = 60 - player.y\n        player.y = 60\n        for (let p of sprites.allOfKind(SpriteKind.Food)) {\n            p.y += diff\n            if (p.y > 160) {\n                p.destroy()\n                createRandomPlatform(randint(20, 140), 0)\n            }\n        }\n        for (let e of sprites.allOfKind(SpriteKind.Enemy)) {\n            e.y += diff\n            if (e.y > 160) e.destroy()\n        }\n        score += diff\n        info.setScore(score)\n    }\n\n    // Столкновение игрока с врагами\n    for (let e of sprites.allOfKind(SpriteKind.Enemy)) {\n        if (player.overlapsWith(e)) {\n            e.destroy()\n            info.changeLifeBy(-1)\n            if (info.life() <= 0) game.over(false, effects.dissolve)\n        }\n    }\n\n    // Столкновение игрока с пулями врагов\n    for (let p of sprites.allOfKind(SpriteKind.Projectile)) {\n        if (p.vy > 0 && player.overlapsWith(p)) {\n            p.destroy()\n            info.changeLifeBy(-1)\n            if (info.life() <= 0) game.over(false, effects.dissolve)\n        }\n    }\n\n    // Столкновение пули игрока с врагами\n    for (let b of sprites.allOfKind(SpriteKind.Projectile)) {\n        for (let e of sprites.allOfKind(SpriteKind.Enemy)) {\n            if (b.overlapsWith(e)) {\n                e.destroy()\n                b.destroy()\n                score += 50\n                info.setScore(score)\n            }\n        }\n    }\n\n    // Смерть игрока при падении\n    if (player.y > 160) game.over(false, effects.dissolve)\n})\n ","README.md":" ","assets.json":"","main.py":"# === Переменные ===\nplayer = None\nscore = 0\n\n# === Создание платформ ===\ndef generate_platforms():\n    for i in range(8):\n        p = sprites.create(img(\"\"\"\n            88888888\n        \"\"\"), SpriteKind.food)\n        p.set_position(randint(20, 140), i*20 + 40)\n\n# === Создание врагов на некоторых платформах ===\ndef generate_enemies():\n    for p in sprites.all_of_kind(SpriteKind.food):\n        if randint(0, 3) == 0:  # примерно каждый 4-й платформенный спрайт имеет врага\n            e = sprites.create(img(\"\"\"\n                . f f f .\n                f f f f f\n                f f f f f\n                . f f f .\n            \"\"\"), SpriteKind.enemy)\n            e.set_position(p.x, p.y - 10)\n\n# === Создание игрока ===\nplayer = sprites.create(img(\"\"\"\n    . . f f f f . .\n    . f f f f f f .\n    f f f f f f f f\n    f f f f f f f f\n    f f f f f f f f\n    . f f f f f f .\n    . . f f f f . .\n\"\"\"), SpriteKind.player)\nplayer.set_position(80, 100)\nplayer.ay = 350\ncontroller.move_sprite(player, 100, 0)\nscene.camera_follow_sprite(player)\n\n# === Инициализация ===\nscene.set_background_color(9)\nscore = 0\ninfo.set_score(score)\ngenerate_platforms()\ngenerate_enemies()\n\n# === Стрельба вверх ===\ndef on_a_pressed():\n    bullet = sprites.create_projectile_from_sprite(img(\"\"\"\n        . 2 .\n        2 2 2\n        . 2 .\n    \"\"\"), player, 0, -100)\ncontroller.A.on_event(ControllerButtonEvent.PRESSED, on_a_pressed)\n\n# === Игровой цикл ===\ndef on_update():\n    global score\n    # Ограничение по бокам\n    if player.x < 8:\n        player.x = 8\n    if player.x > 152:\n        player.x = 152\n\n    # Прыжки на платформах\n    if player.vy > 0:\n        for p in sprites.all_of_kind(SpriteKind.food):\n            if player.overlaps_with(p):\n                player.vy = -200\n\n    # Скроллинг вверх\n    if player.y < 60:\n        diff = 60 - player.y\n        player.y = 60\n        for p in sprites.all_of_kind(SpriteKind.food):\n            p.y += diff\n            if p.y > 160:\n                p.y = 0\n                p.x = randint(20, 140)\n        for e in sprites.all_of_kind(SpriteKind.enemy):\n            e.y += diff\n            if e.y > 160:\n                e.y = 0\n                e.x = randint(20, 140)\n        score += diff\n        info.set_score(score)\n\n    # Смерть игрока\n    if player.y > 160:\n        game.over(False, effects.dissolve)\n\n    # Столкновение пули с врагами\n    for b in sprites.all_of_kind(SpriteKind.projectile):\n        for e in sprites.all_of_kind(SpriteKind.enemy):\n            if b.overlaps_with(e):\n                e.destroy()\n                b.destroy()\n                score += 50\n                info.set_score(score)\n\ngame.on_update(on_update)\n","pxt.json":"{\n    \"name\": \"platformer\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1765717791793}